<div class="d-flex flex-column gap-2 dh-crit-text-config">
    <p class="notes"><i class="fas fa-info-circle"></i> Configure critical text appearance.</p>

    <div class="form-group use-image-row">
        <label><i class="fas fa-image"></i> Use Image/Video</label>
        <div class="form-fields">
            <label class="slide-toggle">
                <input type="checkbox" name="useImage" {{#if config.useImage}}checked{{/if}}>
                <span class="slider"></span>
            </label>
            <span class="hint">When enabled, an image or video is displayed instead of text.</span>
        </div>
    </div>

    <div class="image-group" {{#unless config.useImage}}style="display:none"{{/unless}}>
        <div class="form-group">
            <label>File Path</label>
            <div class="form-fields">
                <file-picker style="flex: 1;" type="imagevideo" name="imagePath" value="{{config.imagePath}}" placeholder="modules/daggerheart-critical/assets/critical-img-demo/arcane_strike.webp"></file-picker>
            </div>
        </div>

        <div class="form-group">
            <label>Size</label>
            <div class="form-fields">
                <select name="imageSize">
                    {{#each imageSizes as |label key|}}
                    <option value="{{key}}" {{#if (eq ../config.imageSize key)}}selected{{/if}}>{{label}}</option>
                    {{/each}}
                </select>
            </div>
        </div>
    </div>

    <div class="text-group" {{#if config.useImage}}style="display:none"{{/if}}>
        <div class="form-group">
            <label>Text</label>
            <div class="form-fields">
                <input type="text" name="content" value="{{config.content}}" placeholder="CRITICAL" maxlength="16">
            </div>
        </div>

        <div class="form-group">
            <label>Font</label>
            <div class="form-fields">
                <select name="fontFamily">
                    {{#each fonts as |label key|}}
                    <option value="{{key}}" {{#if (eq ../config.fontFamily key)}}selected{{/if}}>{{label}}</option>
                    {{/each}}
                </select>
            </div>
        </div>

        <div class="form-group">
            <label>Font Size</label>
            <div class="form-fields">
                <select name="fontSize">
                    {{#each fontSizes as |label key|}}
                    <option value="{{key}}" {{#if (eq ../config.fontSize key)}}selected{{/if}}>{{label}}</option>
                    {{/each}}
                </select>
            </div>
        </div>

        <div class="form-group">
            <label>Letter Spacing</label>
            <div class="form-fields">
                <select name="letterSpacing">
                    {{#each letterSpacings as |label key|}}
                    <option value="{{key}}" {{#if (eq ../config.letterSpacing key)}}selected{{/if}}>{{label}}</option>
                    {{/each}}
                </select>
            </div>
        </div>

        <div class="form-group">
            <label>Use Player Color</label>
            <div class="form-fields">
                <label class="slide-toggle">
                    <input type="checkbox" name="usePlayerColor" {{#if config.usePlayerColor}}checked{{/if}}>
                    <span class="slider"></span>
                </label>
            </div>
        </div>

        <div class="form-group color-group" {{#if config.usePlayerColor}}style="display:none"{{/if}}>
            <label>Color</label>
            <div class="form-fields">
                <input type="color" name="color" value="{{config.color}}">
            </div>
        </div>

        <div class="form-group">
            <label>Background Color</label>
            <div class="form-fields">
                <input type="color" name="backgroundColor" value="{{config.backgroundColor}}">
            </div>
        </div>

        <div class="form-group">
            <label>Fill Mode</label>
            <div class="form-fields">
                <select name="fill">
                    {{#each fills as |label key|}}
                    <option value="{{key}}" {{#if (eq ../config.fill key)}}selected{{/if}}>{{label}}</option>
                    {{/each}}
                </select>
            </div>
        </div>
    </div>

    <div class="form-footer">
        <button type="button" class="crit-preview-btn">
            <i class="fas fa-play"></i> Preview
        </button>
        <button type="submit">
            <i class="fas fa-save"></i> Save Changes
        </button>
    </div>
</div>